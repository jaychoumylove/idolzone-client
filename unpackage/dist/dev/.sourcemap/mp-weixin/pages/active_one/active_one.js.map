{"version":3,"sources":["webpack:///D:/Develop/uni-app/f_1008/pages/active_one/active_one.vue?d533","webpack:///D:/Develop/uni-app/f_1008/pages/active_one/active_one.vue?9a8d","webpack:///D:/Develop/uni-app/f_1008/pages/active_one/active_one.vue?61e1","webpack:///D:/Develop/uni-app/f_1008/pages/active_one/active_one.vue?4976","webpack:///D:/Develop/uni-app/f_1008/pages/active_one/active_one.vue","webpack:///D:/Develop/uni-app/f_1008/pages/active_one/active_one.vue?36a0","webpack:///D:/Develop/uni-app/f_1008/pages/active_one/active_one.vue?4a0c"],"names":["components","modalComponent","btnComponent","data","$app","star","activeInfo","active_info","target_people","can_card","complete_people","join_people","left_time","my_card_days","userRank","modal","cardOverContent","article","getData","active_notice","onShareAppMessage","e","shareType","target","dataset","share","commonShareAppMessage","onLoad","option","id","onShow","starid","toast","getActiveInfo","getStarInfo","getActiveUserRank","methods","preImg","img","getLocalImg","src","callback","indexOf","uni","getImageInfo","success","res","path","getShareText","type","request","API","EXT_SHARETEXT","copy","share_text","drawCanvas","rate","windowWidth","ctx","createCanvasContext","drawText","setFillStyle","setFontSize","setTextAlign","fillText","name","weekRank","weekHot","nickname","bind","showLoading","title","drawImage","share_img","avatar","avatarurl","AVATAR","save","beginPath","arc","Math","PI","clip","restore","version","setData","QRCODE","draw","canvasToTempFilePath","canvasId","canvasImg","tempFilePath","console","log","saveCanvas","hideLoading","saveImageToPhotosAlbum","filePath","fail","STAR_INFO","head_img_s","head_img_l","formatNumberRgx","star_rank","week_hot","week_hot_rank","closeLoading","card","self","is_card_today","openVideoAd","EXT_ACTIVECARD","active_id","EXT_ACTIVE_USERRANK","EXT_ACTIVEINFO","canvas_title","timeGethms","active_end","day","hour","min"],"mappings":"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","file":"pages/active_one/active_one.js","sourcesContent":["import { render, staticRenderFns } from \"./active_one.vue?vue&type=template&id=7709c6c0&scoped=true&\"\nimport script from \"./active_one.vue?vue&type=script&lang=js&\"\nexport * from \"./active_one.vue?vue&type=script&lang=js&\"\nimport style0 from \"./active_one.vue?vue&type=style&index=0&id=7709c6c0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Downloads/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7709c6c0\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\Downloads\\\\HBuilderX.1.6.2.20190220.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('7709c6c0', component.options)\n    } else {\n      api.reload('7709c6c0', component.options)\n    }\n    module.hot.accept(\"./active_one.vue?vue&type=template&id=7709c6c0&scoped=true&\", function () {\n      api.rerender('7709c6c0', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Develop/uni-app/f_1008/pages/active_one/active_one.vue\"\nexport default component.exports","export * from \"-!../../../../../Downloads/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../Downloads/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../Downloads/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Downloads/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./active_one.vue?vue&type=template&id=7709c6c0&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.$app.getData(\"platform\")\n  var g1 = _vm.$app.getData(\"platform\")\n  var g2 = _vm.$app.getData(\"config\")\n\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.modal = \"\"\n    }\n\n    _vm.e1 = function($event) {\n      _vm.modal = \"otherShareW\"\n    }\n\n    _vm.e2 = function($event) {\n      _vm.drawCanvas()\n      _vm.modal = \"otherShareP\"\n    }\n\n    _vm.e3 = function($event) {\n      _vm.modal = \"\"\n    }\n\n    _vm.e4 = function($event) {\n      _vm.modal = \"\"\n    }\n\n    _vm.e5 = function($event) {\n      _vm.getShareText(3)\n      _vm.saveCanvas()\n    }\n  }\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n        g2: g2\n      }\n    }\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../Downloads/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Downloads/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Downloads/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Downloads/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./active_one.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Downloads/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Downloads/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Downloads/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Downloads/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./active_one.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport modalComponent from '@/components/modalComponent.vue'\nimport btnComponent from '@/components/btnComponent.vue';\nexport default {\n\tcomponents: {\n\t\tmodalComponent,\n\t\tbtnComponent\n\t},\n\tdata() {\n\t\treturn {\n\t\t\t$app: this.$app,\n\t\t\tstar: {},\n\t\t\tactiveInfo: {\n\t\t\t\tactive_info: {\n\t\t\t\t\ttarget_people: 2000\n\t\t\t\t},\n\t\t\t\tcan_card: true,\n\t\t\t\tcomplete_people: 0,\n\t\t\t\tjoin_people: 0,\n\t\t\t\tleft_time: '0天0小时0分',\n\t\t\t\tmy_card_days: 0,\n\t\t\t},\n\t\t\tuserRank: [],\n\t\t\tmodal: '',\n\t\t\tcardOverContent: '',\n\t\t\tarticle: this.$app.getData('config').active_notice,\n\n\t\t};\n\t},\n\tonShareAppMessage(e) {\n\t\tconst shareType = e.target && e.target.dataset.share\n\t\treturn this.$app.commonShareAppMessage(5)\n\t},\n\tonLoad(option) {\n\t\tthis.id = option.id || 0\n\t},\n\tonShow() {\n\t\tthis.starid = this.$app.getData('userStar').id\n\t\tif (!this.starid) {\n\t\t\tthis.$app.toast('请先加入一个圈子')\n\t\t\treturn\n\t\t}\n\t\t\n\t\tthis.getActiveInfo()\n\t\tthis.getStarInfo()\n\t\tthis.getActiveUserRank()\n\n\t},\n\tmethods: {\n\t\tpreImg(img) {\n\t\t\tthis.$app.preImg(img)\n\t\t},\n\t\tgetLocalImg(src, callback) {\n\t\t\tif (~src.indexOf('http')) {\n\t\t\t\tuni.getImageInfo({\n\t\t\t\t\tsrc,\n\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\tcallback && callback(res.path)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tcallback && callback(src)\n\t\t\t}\n\t\t},\n\t\t// 获取分享文字\n\t\tgetShareText(type) {\n\t\t\tthis.$app.request(this.$app.API.EXT_SHARETEXT, {\n\t\t\t\ttype,\n\t\t\t}, res => {\n\t\t\t\tthis.modal = ''\n\t\t\t\tthis.$app.copy(res.data.share_text)\n\t\t\t})\n\t\t},\n\t\t// 绘制canvas\n\t\tdrawCanvas() {\n\t\t\tvar rate = this.$app.getData('sysInfo').windowWidth / 375 / 2\n\t\t\tvar ctx = uni.createCanvasContext('mycanvas', this);\n\t\t\t// 绘制文字\n\t\t\tconst drawText = function() {\n\t\t\t\tctx.setFillStyle('#000000') //文字颜色\n\n\t\t\t\tctx.setFontSize(18) //设置字体大小，默认10\n\t\t\t\tctx.setTextAlign('center')\n\t\t\t\t// this.canvas_title[0] && ctx.fillText(this.canvas_title[0], 240 * rate, 200 * rate) //绘制文本\n\t\t\t\t// this.canvas_title[1] && ctx.fillText(this.canvas_title[1], 240 * rate, 250 * rate) //绘制文本\n\n\t\t\t\tctx.fillText(this.star.name, 140 * rate, 535 * rate) //绘制文本\n\n\t\t\t\tctx.setFontSize(10) //设置字体大小，默认10\n\t\t\t\tctx.fillText(`榜单排名:NO.${this.star.weekRank}`, 335 * rate, 515 * rate) //绘制文本\n\t\t\t\tctx.fillText(`人气值:${this.star.weekHot}`, 335 * rate, 545 * rate) //绘制文本\n\n\t\t\t\tctx.setTextAlign('left')\n\n\t\t\t\tctx.fillText(`我是${this.$app.getData('userInfo').nickname}`, 140 * rate, 670 * rate) //绘制文本\n\t\t\t\tctx.fillText(`一起pick${this.star.name}`, 140 * rate, 700 * rate) //绘制文本\n\t\t\t}.bind(this)\n\n\t\t\t// 绘制图片\n\t\t\t// 背景\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: \"生成海报中\"\n\t\t\t})\n\n\t\t\tthis.getLocalImg('/static/image/canvas-bg.jpg', src => {\n\t\t\t\tctx.drawImage(src, 0, 0, 480 * rate, 854 * rate);\n\t\t\t\t// 明星 \n\t\t\t\tthis.getLocalImg(this.star.share_img || this.star.avatar, src => {\n\t\t\t\t\tctx.drawImage(src, 48 * rate, 176 * rate, 382 * rate, 300 * rate);\n\t\t\t\t\t// 用户头像\n\t\t\t\t\tthis.getLocalImg(this.$app.getData('userInfo').avatarurl || this.$app.AVATAR, src => {\n\t\t\t\t\t\tctx.save() //保存当前的绘图上下文。\n\t\t\t\t\t\tctx.beginPath() //开始创建一个路径\n\t\t\t\t\t\tctx.arc(85 * rate, 675 * rate, 40 * rate, 0, 2 * Math.PI, false) //画一个圆形裁剪区域\n\t\t\t\t\t\tctx.clip() //裁剪\n\t\t\t\t\t\tctx.drawImage(src, 45 * rate, 635 * rate, 80 * rate, 80 * rate) //绘制图片\n\t\t\t\t\t\tctx.restore() //恢复之前保存的绘图上下文\n\t\t\t\t\t\t// 二维码\n\t\t\t\t\t\tif (this.$app.getData('config').version == this.$app.getData('VERSION')) {\n\t\t\t\t\t\t\tthis.$app.setData('qrcode', '/static/image/def.jpg')\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.getLocalImg(this.$app.getData('qrcode') || this.$app.QRCODE, src => {\n\t\t\t\t\t\t\tctx.save() // 保存当前的绘图上下文。\n\t\t\t\t\t\t\tctx.beginPath() // 开始创建一个路径\n\t\t\t\t\t\t\tctx.arc(380 * rate, 675 * rate, 50 * rate, 0, 2 * Math.PI, false) //画一个圆形裁剪区域\n\t\t\t\t\t\t\tctx.clip() //裁剪\n\t\t\t\t\t\t\tctx.drawImage(src, 330 * rate, 625 * rate, 100 * rate, 100 * rate);\n\t\t\t\t\t\t\tctx.restore() //恢复之前保存的绘图上下文\n\n\t\t\t\t\t\t\t// 绘制文字\n\t\t\t\t\t\t\tdrawText()\n\t\t\t\t\t\t\t// 绘制\n\t\t\t\t\t\t\tctx.draw(false, () => {\n\t\t\t\t\t\t\t\t// 保存到临时图片\n\t\t\t\t\t\t\t\tuni.canvasToTempFilePath({\n\t\t\t\t\t\t\t\t\tcanvasId: 'mycanvas',\n\t\t\t\t\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\t\t\t\t\tthis.canvasImg = res.tempFilePath\n\t\t\t\t\t\t\t\t\t\tconsole.log(this.canvasImg);\n\t\t\t\t\t\t\t\t\t\tthis.saveCanvas()\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}, this);\n\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t})\n\n\t\t},\n\t\t//保存的画布\n\t\tsaveCanvas: function() {\n\t\t\t// 保存图片到用户相册\n\t\t\tuni.saveImageToPhotosAlbum({\n\t\t\t\tfilePath: this.canvasImg,\n\t\t\t\tsuccess: () => {\n\t\t\t\t\tthis.$app.toast('保存成功', 'success')\n\t\t\t\t},\n\t\t\t\tfail: res => {\n\t\t\t\t\tconsole.log(res);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tgetStarInfo() {\n\t\t\tthis.$app.request(this.$app.API.STAR_INFO, {\n\t\t\t\tstarid: this.starid\n\t\t\t}, res => {\n\t\t\t\tconst star = res.data\n\t\t\t\tthis.star = {\n\t\t\t\t\tid: star.id,\n\t\t\t\t\tavatar: star.head_img_s ? star.head_img_s : star.head_img_l,\n\t\t\t\t\tname: star.name,\n\t\t\t\t\tweekHot: this.$app.formatNumberRgx(star.star_rank.week_hot),\n\t\t\t\t\tweekRank: star.star_rank.week_hot_rank,\n\t\t\t\t\tshare_img: star.share_img,\n\t\t\t\t}\n\n\t\t\t\tthis.$app.closeLoading(this)\n\t\t\t})\n\t\t},\n\t\tcard() {\n\t\t\tif (this.$app.getData('userStar').id == this.starid) {\n\t\t\t\tif (!this.activeInfo.self.is_card_today) {\n\t\t\t\t\tthis.$app.openVideoAd(() => {\n\t\t\t\t\t\tthis.$app.request(this.$app.API.EXT_ACTIVECARD, {\n\t\t\t\t\t\t\tstarid: this.starid,\n\t\t\t\t\t\t\tactive_id: this.id,\n\t\t\t\t\t\t}, res => {\n\t\t\t\t\t\t\tthis.modal = 'cardOver'\n\t\t\t\t\t\t\tthis.getActiveInfo()\n\t\t\t\t\t\t\tthis.getActiveUserRank()\n\t\t\t\t\t\t\tthis.$app.toast('今日打卡成功', 'success')\n\t\t\t\t\t\t}, 'POST', true)\n\t\t\t\t\t})\n\n\t\t\t\t} else {\n\t\t\t\t\tthis.modal = 'cardOver'\n\t\t\t\t\tthis.$app.toast('今日已打卡')\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\tthis.$app.toast('你怎么能为别的爱豆打卡呢')\n\t\t\t}\n\t\t},\n\n\t\tgetActiveUserRank() {\n\t\t\tthis.$app.request(this.$app.API.EXT_ACTIVE_USERRANK, {\n\t\t\t\tstarid: this.starid,\n\t\t\t\tactive_id: this.id,\n\t\t\t}, res => {\n\t\t\t\tthis.userRank = res.data\n\t\t\t})\n\t\t},\n\t\tgetActiveInfo() {\n\t\t\tthis.$app.request(this.$app.API.EXT_ACTIVEINFO, {\n\t\t\t\tstarid: this.starid,\n\t\t\t\tid: this.id,\n\t\t\t}, res => {\n\t\t\t\tthis.canvas_title = res.data.canvas_title\n\n\t\t\t\tlet left_time = this.$app.timeGethms(res.data.active_end)\n\n\t\t\t\tres.data.left_time = left_time.day + '天' + left_time.hour + '小时' + left_time.min + '分'\n\t\t\t\tthis.activeInfo = res.data\n\t\t\t})\n\t\t},\n\t}\n}\n","import mod from \"-!../../../../../Downloads/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../Downloads/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../Downloads/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../Downloads/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Downloads/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../Downloads/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../Downloads/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../Downloads/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./active_one.vue?vue&type=style&index=0&id=7709c6c0&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../Downloads/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../Downloads/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../Downloads/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../Downloads/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Downloads/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../Downloads/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../Downloads/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../Downloads/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./active_one.vue?vue&type=style&index=0&id=7709c6c0&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}