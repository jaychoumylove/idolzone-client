(global["webpackJsonp"] = global["webpackJsonp"] || []).push([["components/guildComponent"],{

/***/ 408:
/*!***********************************************************!*\
  !*** E:/wx/idolzone-weixin/components/guildComponent.vue ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _guildComponent_vue_vue_type_template_id_82d416a6_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./guildComponent.vue?vue&type=template&id=82d416a6&scoped=true& */ 409);
/* harmony import */ var _guildComponent_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./guildComponent.vue?vue&type=script&lang=js& */ 411);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _guildComponent_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _guildComponent_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[key]; }) }(__WEBPACK_IMPORT_KEY__));
/* harmony import */ var _guildComponent_vue_vue_type_style_index_0_id_82d416a6_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./guildComponent.vue?vue&type=style&index=0&id=82d416a6&lang=scss&scoped=true& */ 413);
/* harmony import */ var _D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/vue-loader/lib/runtime/componentNormalizer.js */ 15);






/* normalize component */

var component = Object(_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _guildComponent_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],
  _guildComponent_vue_vue_type_template_id_82d416a6_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"],
  _guildComponent_vue_vue_type_template_id_82d416a6_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],
  false,
  null,
  "82d416a6",
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "E:/wx/idolzone-weixin/components/guildComponent.vue"
/* harmony default export */ __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 409:
/*!******************************************************************************************************!*\
  !*** E:/wx/idolzone-weixin/components/guildComponent.vue?vue&type=template&id=82d416a6&scoped=true& ***!
  \******************************************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_guildComponent_vue_vue_type_template_id_82d416a6_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--17-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./guildComponent.vue?vue&type=template&id=82d416a6&scoped=true& */ 410);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_guildComponent_vue_vue_type_template_id_82d416a6_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_guildComponent_vue_vue_type_template_id_82d416a6_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });



/***/ }),

/***/ 410:
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--17-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/wx/idolzone-weixin/components/guildComponent.vue?vue&type=template&id=82d416a6&scoped=true& ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  var g0 = _vm.$app.formatNumber(_vm.disLeastCount)
  var g1 = _vm.$app.getData("userInfo")
  var g2 = _vm.$app.getData("config")
  var g3 = _vm.$app.getData("config")
  var g4 = _vm.$app.getVal("VERSION")
  var g5 = _vm.$app.getData("config")
  var g6 = _vm.$app.getData("config")

  var l0 = _vm.__map(_vm.chartList, function(item, index) {
    var g7 = _vm.$app.strToHour(item.create_time)
    return {
      $orig: _vm.__get_orig(item),
      g7: g7
    }
  })

  var g8 = _vm.$app.getData("userStar")
  var g9 = _vm.$app.getData("config")
  var g10 = _vm.$app.getData("config")
  var g11 = _vm.$app.getData("config")
  var g12 = _vm.$app.getData("config")
  var g13 = _vm.$app.getData("config")
  var g14 = _vm.$app.getData("sysInfo").system.indexOf("iOS")
  var g15 = _vm.$app.getData("config")
  var g16 = _vm.$app.getData("config")
  var g17 = _vm.$app.getData("config")
  var g18 = _vm.$app.getData("userInfo")
  var g19 = _vm.$app.getData("userInfo")
  var g22 = _vm.$app.getData("sysInfo").system.indexOf("iOS")
  var g23 = _vm.$app.getData("config")

  var l1 = _vm.__map(_vm.signGift_list, function(item, index) {
    var g20 = Math.round(item.awards.coin / 10000)
    var g21 = Math.round(item.awards.flower / 10000)
    var g24 = item.btn_text.replace("去充值", "未完成")
    return {
      $orig: _vm.__get_orig(item),
      g20: g20,
      g21: g21,
      g24: g24
    }
  })

  if (!_vm._isMounted) {
    _vm.e0 = function($event) {
      _vm.inputing = false
    }

    _vm.e1 = function($event) {
      return _vm.$app.goPage("/pages/user/rank?starid=" + _vm.star.id)
    }

    _vm.e2 = function($event) {
      return _vm.$app.goPage("/pages/user/birth_rank?starid=" + _vm.star.id)
    }

    _vm.e3 = function($event) {
      _vm.invitFakePage = 1
      _vm.modal = "invit_desert"
      _vm.getFakeInviteList()
    }

    _vm.e4 = function($event) {
      return _vm.$app.goPage("/pages/notice/notice?id=" + _vm.article.id)
    }

    _vm.e5 = function($event) {
      $event.stopPropagation()
      return _vm.$app.goPage("/pages/notice/list")
    }

    _vm.e6 = function($event) {
      $event.stopPropagation()
      _vm.inputing = true
    }

    _vm.e7 = function($event) {
      _vm.chartMsg = $event.detail.value
    }

    _vm.e8 = function($event) {
      _vm.modal = ""
    }

    _vm.e9 = function($event) {
      _vm.current = 0
      _vm.sendCount = ""
    }

    _vm.e10 = function($event) {
      _vm.current = 1
      _vm.sendCount = ""
    }

    _vm.e11 = function($event) {
      _vm.current = 2
      _vm.sendCount = ""
    }

    _vm.e12 = function($event) {
      return _vm.$app.goPage("/pages/charge/charge")
    }

    _vm.e13 = function($event) {
      return _vm.$app.goPage("/pages/charge/charge")
    }

    _vm.e14 = function($event) {
      _vm.modal = ""
    }

    _vm.e15 = function($event) {
      _vm.invitFakePage++
      _vm.getFakeInviteList()
    }

    _vm.e16 = function($event) {
      _vm.modal = ""
    }

    _vm.e17 = function($event) {
      return _vm.$app.preImg(_vm.currentUser.avatarurl)
    }

    _vm.e18 = function($event) {
      _vm.sendOtherType = "stone"
      _vm.modal = "sendOther"
    }

    _vm.e19 = function($event) {
      _vm.sendOtherType = "flower"
      _vm.modal = "sendOther"
    }

    _vm.e20 = function($event) {
      _vm.modal = ""
    }

    _vm.e21 = function($event) {
      _vm.sendOtherNum = $event.detail.value
    }

    _vm.e22 = function($event) {
      _vm.modal = ""
    }

    _vm.e23 = function($event) {
      _vm.like(_vm.$app.getData("userInfo").id, -1)
    }

    _vm.e24 = function($event) {
      _vm.userRankPage++
      _vm.getUserRank()
    }

    _vm.e25 = function($event) {
      return _vm.$app.goPage("/pages/user/badge")
    }

    _vm.e26 = function($event) {
      _vm.modal = ""
    }

    _vm.e27 = function($event) {
      _vm.modal = ""
    }

    _vm.e28 = function($event) {
      return _vm.$app.goPage("/pages/notice/notice?id=" + _vm.sendFansNoticeId)
    }

    _vm.e29 = function($event) {
      _vm.modal = "sendFansBox"
    }

    _vm.e30 = function($event) {
      _vm.modal = ""
    }

    _vm.e31 = function($event) {
      _vm.sendFansboxPeople = $event.detail.value
    }

    _vm.e32 = function($event) {
      _vm.modal = ""
    }
  }

  _vm.$mp.data = Object.assign(
    {},
    {
      $root: {
        g0: g0,
        g1: g1,
        g2: g2,
        g3: g3,
        g4: g4,
        g5: g5,
        g6: g6,
        l0: l0,
        g8: g8,
        g9: g9,
        g10: g10,
        g11: g11,
        g12: g12,
        g13: g13,
        g14: g14,
        g15: g15,
        g16: g16,
        g17: g17,
        g18: g18,
        g19: g19,
        g22: g22,
        g23: g23,
        l1: l1
      }
    }
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ 411:
/*!************************************************************************************!*\
  !*** E:/wx/idolzone-weixin/components/guildComponent.vue?vue&type=script&lang=js& ***!
  \************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_guildComponent_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./guildComponent.vue?vue&type=script&lang=js& */ 412);
/* harmony import */ var _D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_guildComponent_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_guildComponent_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_guildComponent_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_guildComponent_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_guildComponent_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 412:
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/wx/idolzone-weixin/components/guildComponent.vue?vue&type=script&lang=js& ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var modalComponent = function modalComponent() {return __webpack_require__.e(/*! import() | components/modalComponent */ "components/modalComponent").then(__webpack_require__.bind(null, /*! @/components/modalComponent.vue */ 380));};var btnComponent = function btnComponent() {return __webpack_require__.e(/*! import() | components/btnComponent */ "components/btnComponent").then(__webpack_require__.bind(null, /*! @/components/btnComponent.vue */ 394));};var listItemComponent = function listItemComponent() {return __webpack_require__.e(/*! import() | components/listItemComponent */ "components/listItemComponent").then(__webpack_require__.bind(null, /*! @/components/listItemComponent.vue */ 401));};var badgeComponent = function badgeComponent() {return __webpack_require__.e(/*! import() | components/badgeComponent */ "components/badgeComponent").then(__webpack_require__.bind(null, /*! @/components/badgeComponent.vue */ 415));};var countToComponent = function countToComponent() {return __webpack_require__.e(/*! import() | components/countToComponent */ "components/countToComponent").then(__webpack_require__.bind(null, /*! @/components/countToComponent.vue */ 429));};var _default =



































































































































































































































































































































































































































































































































































































































































{
  components: {
    modalComponent: modalComponent,
    btnComponent: btnComponent,
    listItemComponent: listItemComponent,
    badgeComponent: badgeComponent,
    countToComponent: countToComponent },

  data: function data() {
    return {
      $app: this.$app,
      showLoading: true,
      requestCount: 7,
      tips: false,

      userCurrency: {},

      star: {},
      userRankList: {
        thisday_count: [],
        thisweek_count: [] },

      chartList: [],
      chartIndex: -1, // 聊天窗位置
      modal: '', // 模态框名称
      chartMsg: '', // 聊天输入内容
      sendCount: '', // 赠送人气数额
      starRankList: [],
      invitAward: {}, // 邀请奖励
      hasEarnCount: 0,
      hasInvitcount: 0,
      spriteEarn: false,
      rechargeList: [], // 充值商品列表
      danmaku: null, // 当前弹幕
      article: {}, // 公告文章

      fakeinvitList: [],
      invitFakePage: 1,

      activeInfo: null,
      current: 0,
      itemList: [],

      giftItemList: [],
      chartAni: '',

      // 点击聊天室头像,当前显示用户
      currentUser: {},
      sendOtherNum: 1,
      sendOtherType: '', // 赠送他人是鲜花还是钻石‘’

      sprite_level: 0,
      friendTotal: 0,
      captain: 0, // 团长

      siginList: [],
      signin_day: 1,
      signin_coin: 0,

      disLeastCount: 0, // 距离上一名差距数额
      myTotalCount: 0, // 我的总贡献

      sideBtnOpacity: 1, // 侧边按钮组显示
      urgeSendTips: '', // 催促打榜tips

      inputing: false, // 输入中

      send_num_list: [99, 520, 1314, 9999, 66666, '全送'],

      myRank: {},

      sendDanmaku: [
      [],
      [],
      []],
      // 打榜弹幕
      danmakuClosed: this.$app.getData('danmakuClosed'),

      // 粉丝团宝箱
      sendFansboxNum: '', // 消耗数额
      sendFansBoxUseCurrency: 0, // 0 钻石 1积分
      sendFansBoxCoinNum: 0, // 兑换成金豆的数额
      sendFansboxPeople: 1, // 发放宝箱个数
      sendFansBoxList: [], // 宝箱列表
      sendFansNoSettle: 0, // 没有结算的宝箱
      sendFansNoticeId: 0, // 说明id

      // 新人礼包
      // newboyList: [],
      // newboyBg: 'https://mmbiz.qpic.cn/mmbiz_png/w5pLFvdua9Ep3RhxrWX9ibdRVKkjMQibIDNy4g4CU7wJTicw6PiaPhZmIsxMhu2kkD5iaDgmdFpDyg5yZYwJwibYXAUw/0',
      // newboyCurrent: 0,
      // newboyRemainTime: '',

      // 任务礼包
      signGift_title: '',
      signGift_tips: 0,
      signGift_currentCategory: 1,
      signGift_categoryList: [],
      signGift_list: [],
      signGift_currentCategoryTitle: '',

      //徽章
      achieveBadge: [] };

  },
  created: function created() {
    this.sendDanmakuIndex = 0;
    this.initDanmaku();
  },
  destroyed: function destroyed() {
    clearInterval(this.timeId_danmaku);
  },
  methods: {
    /**
              * 加载数据
              */
    load: function load(starid) {
      this.current = 0;
      this.star.id = starid;

      // 请求数据
      this.loadData();


      this.userCurrency = this.$app.getData('userCurrency');
    },
    unLoad: function unLoad() {
      this.leaveGroup();
    },
    loadData: function loadData() {var _this = this;
      var clientId = this.$app.getData('clientId');
      if (!clientId) {
        this.$app.invokeSocket();
        setTimeout(function () {
          _this.loadData();
        }, 1500);
      } else {
        this.$app.request('page/group', {
          starid: this.star.id,
          client_id: clientId },
        function (res) {
          // 明星信息
          var star = res.data.starInfo;
          uni.setNavigationBarTitle({
            title: star.name });

          _this.star = {
            id: star.id,
            avatar: star.head_img_s ? star.head_img_s : star.head_img_l,
            name: star.name,
            weekHot: _this.$app.formatNumber(star.star_rank.week_hot),
            weekRank: star.star_rank.week_hot_rank,
            share_img: star.share_img,
            qrcode: star.qrcode,
            isBirth: star.isBirth || false

            // 聊天
          };_this.disLeastCount = res.data.disLeastCount;
          _this.chartList = res.data.chartList;
          _this.$nextTick(function () {
            this.chartIndex = this.chartList.length - 1;
          });
          // 延迟渲染
          setTimeout(function () {
            _this.captain = res.data.captain;
            // 用户排行
            _this.userRankList['thisday_count'] = res.data.userRank;

            // 公告
            _this.article.name = res.data.article.name;
            _this.article.id = res.data.article.id;

          }, 300);

          //宝箱及成长礼包
          if (_this.$app.getData('config').fansbox_open == '1') {
            _this.$app.request('fans/mybox', {}, function (res) {
              _this.sendFansBoxList = res.data.list;
              _this.sendFansNoSettle = res.data.can_settle;
              _this.isJoinFanclub = res.data.isJoinFanclub;
              _this.signGift_title = res.data.signGift_title;
              _this.signGift_tips = res.data.signGift_tips;
            });
          }

          //徽章获得
          _this.$app.request('badge/achieve', {}, function (res) {
            if (res.data.badge_id > 0) {
              _this.achieveBadge = res.data,
              _this.modal = 'achieveBadge';
            }
          });

        });
      }

    },
    // 打榜弹幕开关
    danmakuSwitch: function danmakuSwitch(e) {
      this.danmakuClosed = !e.detail.value;
      this.$app.setData('danmakuClosed', !e.detail.value);
    },
    openUserModal: function openUserModal() {
      this.modal = 'user';
    },
    // 禁言
    forbidden: function forbidden() {var _this2 = this;
      this.$app.modal("\u786E\u8BA4\u5C06".concat(this.currentUser.nickname, "\u7981\u8A00\uFF1F"), function () {
        _this2.$app.request('user/forbidden', {
          user_id: _this2.currentUser.id },
        function (res) {
          _this2.$app.toast('操作成功', 'success');
          _this2.modal = '';
        }, 'POST', true);
      });
    },

    sendItemOther: function sendItemOther(item, num, index) {var _this3 = this;
      this.$app.modal("\u786E\u8BA4\u5C06".concat(num, "\u4E2A").concat(item.name, "\u9001\u7ED9").concat(this.currentUser.nickname, "\uFF1F"), function () {
        _this3.$app.request('user/sendItemToOther', {
          user_id: _this3.currentUser.id,
          item_id: item.id,
          num: num },
        function (res) {
          _this3.$app.toast('赠送成功', 'success');
          _this3.modal = '';
          _this3.itemList[index].self -= num;
        }, 'POST', true);
      });
    },

    copy: function copy(text) {
      this.$app.copy(text);
    },

    // 送给别人
    sendOther: function sendOther() {var _this4 = this;
      var sendOtherNum = parseInt(this.sendOtherNum);
      this.sendOtherNum = 1;

      if (sendOtherNum <= 0) {
        this.$app.toast('请输入正确的数字');
        return;
      }
      if (this.sendOtherType == 'flower') {
        var text = '鲜花';
      } else if (this.sendOtherType == 'stone') {
        var text = '钻石';
      }
      if (sendOtherNum > this.userCurrency[this.sendOtherType]) {
        this.$app.toast('你没有这么多' + text);
        return;
      }

      this.$app.modal("\u786E\u8BA4\u5C06".concat(sendOtherNum).concat(text, "\u9001\u7ED9").concat(this.currentUser.nickname, "\uFF1F"), function () {
        _this4.$app.request('user/sendToOther', {
          user_id: _this4.currentUser.id,
          num: sendOtherNum,
          type: _this4.sendOtherType },
        function (res) {
          _this4.$app.toast('赠送成功', 'success');
          _this4.modal = '';
          _this4.$app.request(_this4.$app.API.USER_CURRENCY, {}, function (res) {
            _this4.$app.setData('userCurrency', res.data);
            _this4.userCurrency = _this4.$app.getData('userCurrency');
          });
        }, 'POST', true);
      });
    },
    // 加粉丝团
    addFanclub: function addFanclub(id) {var _this5 = this;
      this.$app.request('fans/join', {
        id: id },
      function (res) {
        _this5.$app.toast('加入成功！', 'success');
        _this5.modal = '';
      }, 'POST', true);
    },
    // 点击聊天室用户头像
    tapUser: function tapUser(uid) {var _this6 = this;
      if (uid == this.$app.getData('userInfo').id) return;
      this.currentUser = {};
      this.modal = 'userInfo';
      this.$app.request('user/info', {
        user_id: uid },
      function (res) {
        _this6.currentUser = res.data;
      });
    },

    goPageHasStar: function goPageHasStar(url) {
      if (this.$app.getData('userStar').id) {
        this.$app.goPage(url);
      } else {
        this.$app.toast('请先加入圈子');
      }
    },

    like: function like(user_id, index) {var _this7 = this;
      this.$app.request('user/like', {
        user_id: user_id },
      function (res) {
        if (index == -1) {
          _this7.myRank.like_count++;
        } else {
          _this7.userRankList['thisweek_count'][index].like_count++;
        }

      }, 'POST', true);
    },

    getLocalImg: function getLocalImg(src, callback) {
      if (~src.indexOf('http')) {
        uni.getImageInfo({
          src: src,
          success: function success(res) {
            callback && callback(res.path);
          } });

      } else {
        callback && callback(src);
      }
    },
    getShareText: function getShareText(type) {var _this8 = this;
      this.$app.request(this.$app.API.EXT_SHARETEXT, {
        type: type },
      function (res) {
        _this8.modal = '';
        _this8.$app.copy(res.data.share_text);
      });
    },
    // 绘制canvas海报
    drawCanvas: function drawCanvas() {var _this9 = this;
      if (this.star.id != this.$app.getData('userStar').id) return;
      this.modal = 'canvas';
      var rate = this.$app.getData('sysInfo').windowWidth / 375 / 2.0;
      var ctx = uni.createCanvasContext('mycanvas', this);
      // 绘制文字
      var drawText = function () {
        ctx.setFillStyle('#FFFFFF'); //文字颜色

        ctx.setFontSize(18); //设置字体大小，默认10
        ctx.setTextAlign('center');
        ctx.fillText(this.$app.getData('config').canvas_title[0], 240 * rate, 200 * rate); //绘制文本
        ctx.fillText(this.$app.getData('config').canvas_title[1], 240 * rate, 250 * rate); //绘制文本

        ctx.fillText(this.star.name, 140 * rate, 636 * rate); //绘制文本

        ctx.setFontSize(8); //设置字体大小，默认10
        ctx.setTextAlign('left');
        ctx.fillText("\u699C\u5355\u6392\u540D:NO.".concat(this.star.weekRank), 265 * rate, 616 * rate); //绘制文本
        ctx.fillText("\u4EBA\u6C14\u503C:".concat(this.star.weekHot), 265 * rate, 640 * rate); //绘制文本

        ctx.fillText("\u6211\u662F".concat(this.$app.getData('userInfo').nickname), 130 * rate, 774 * rate); //绘制文本
        ctx.fillText("\u4E00\u8D77\u4E3A".concat(this.star.name, "\u6253\u699C"), 130 * rate, 804 * rate); //绘制文本
      }.bind(this);

      // 绘制图片
      // 背景
      uni.showLoading({
        title: "生成海报中" });

      this.getLocalImg('/static/image/canvas-bg.png', function (src) {
        ctx.drawImage(src, 0, 0, 480 * rate, 854 * rate);
        // 明星 
        _this9.getLocalImg(_this9.star.share_img || _this9.star.avatar, function (src) {
          ctx.drawImage(src, 48 * rate, 286 * rate, 382 * rate, 305 * rate);
          // 用户头像
          _this9.getLocalImg(_this9.$app.getData('userInfo').avatarurl || _this9.$app.AVATAR, function (src) {
            ctx.save(); //保存当前的绘图上下文。
            ctx.beginPath(); //开始创建一个路径
            ctx.arc(79 * rate, 784 * rate, 40 * rate, 0, 2 * Math.PI, false); //画一个圆形裁剪区域
            ctx.clip(); //裁剪
            ctx.drawImage(src, 38 * rate, 744 * rate, 80 * rate, 80 * rate); //绘制图片
            ctx.restore(); //恢复之前保存的绘图上下文
            // 二维码
            _this9.getLocalImg(_this9.$app.getData('qrcode') || _this9.$app.QRCODE, function (src) {
              ctx.save(); //保存当前的绘图上下文。
              ctx.beginPath(); //开始创建一个路径
              ctx.arc(400 * rate, 780 * rate, 50 * rate, 0, 2 * Math.PI, false); //画一个圆形裁剪区域
              ctx.clip(); //裁剪
              ctx.drawImage(src, 350 * rate, 730 * rate, 100 * rate, 100 * rate);
              ctx.restore(); //恢复之前保存的绘图上下文

              // 绘制文字
              drawText();
              // 绘制
              ctx.draw(false, function () {
                // 保存到临时图片
                uni.canvasToTempFilePath({
                  canvasId: 'mycanvas',
                  success: function success(res) {
                    _this9.canvasImg = res.tempFilePath;
                    //console.log(this.canvasImg);

                  } },
                _this9);
              });


              uni.hideLoading();
            });
          });
        });
      });
    },
    //保存的画布
    saveCanvas: function saveCanvas() {var _this10 = this;
      // 保存图片到用户相册
      uni.saveImageToPhotosAlbum({
        filePath: this.canvasImg,
        success: function success() {
          _this10.$app.toast('保存成功', 'success');
        } });

    },
    /**
        * 收到推送信息
        * 添加聊天内容
        */
    addChartMsg: function addChartMsg(data) {
      this.chartList.push(data);
      this.$nextTick(function () {
        this.chartIndex = this.chartList.length - 1;
      });
    },
    // 定时显示喇叭弹幕
    initDanmaku: function initDanmaku() {var _this11 = this;
      clearInterval(this.timeId_danmaku);
      this.danmaku = this.$app.danmakuQueue.shift() || null;
      this.timeId_danmaku = setInterval(function () {
        _this11.danmaku = _this11.$app.danmakuQueue.shift() || null;
      }, 10000);
    },

    // 喊话
    sayworld: function sayworld() {var _this12 = this;
      if (!this.chartMsg.trim()) return;
      if (this.chartMsg.trim().length > 16) {
        this.$app.toast('内容过长');
        return;
      }
      this.modal = '';
      this.$app.request(this.$app.API.USER_SAYWORLD, {
        content: this.chartMsg.trim() },
      function (res) {
        _this12.chartMsg = '';
        _this12.$app.request(_this12.$app.API.USER_CURRENCY, {}, function (res) {
          if (_this12.$app.getData('userCurrency')['trumpet'] == res.data.trumpet) {
            _this12.$app.toast('喊话失败，请稍后再试');
          } else {
            _this12.$app.toast('喊话成功', 'success');
          }
          _this12.$app.setData('userCurrency', res.data);
          _this12.userCurrency = _this12.$app.getData('userCurrency');
        });

      }, 'POST', true);
    },
    /**
        * 保存用户详细信息
        */
    getUserInfo: function getUserInfo(e) {var _this13 = this;
      var userInfo = e.detail.userInfo;
      if (userInfo) {
        this.$app.request(this.$app.API.USER_SAVEINFO, {
          iv: e.detail.iv,
          encryptedData: e.detail.encryptedData },
        function (res) {
          _this13.$app.request(_this13.$app.API.USER_INFO, {
            user_id: _this13.$app.getData('userInfo').id },
          function (res) {
            _this13.$app.setData('userInfo', res.data, true);
            _this13.sendOrFollow();
          });
        }, 'POST', true);
      }

    },
    changeSignGift: function changeSignGift(index) {
      this.signGift_currentCategory = index;
      this.getsignGift();
    },
    newboyOpen: function newboyOpen() {var _this14 = this;
      this.modal = 'newboy';
      this.$app.request('task/taskgiftCategory', {}, function (res) {
        _this14.signGift_categoryList = res.data.list;
        _this14.getsignGift();
      });
    },
    getsignGift: function getsignGift() {var _this15 = this;
      this.$app.request('task/taskGift', {
        cid: this.signGift_categoryList[this.signGift_currentCategory].id },
      function (res) {
        _this15.signGift_list = res.data.list;
        _this15.signGift_categoryList = res.data.category.list;
        _this15.signGift_title = res.data.category.all_title;
        _this15.signGift_tips = res.data.category.all_tips;
        _this15.signGift_currentCategoryTitle = _this15.signGift_categoryList[_this15.signGift_currentCategory].title;
      });
    },
    signGiftSettle: function signGiftSettle(index) {var _this16 = this;
      var cid = this.signGift_categoryList[this.signGift_currentCategory].id;
      var taskover = this.signGift_list[index].over;
      //如果未完成 0
      if (taskover == 0) {
        if (cid == 2) this.modal = 'send'; //2粉丝等级
        if (cid == 3 && (!~this.$app.getData('sysInfo').system.indexOf('iOS') || this.$app.getData('config').ios_switch ==
        0)) this.$app.goPage("/pages/charge/charge"); //3充值
        return;
      }
      //如果已完成 2
      else if (taskover == 2) return;

      this.$app.request('task/taskGiftSettle', {
        cid: cid,
        task_id: this.signGift_list[index].id },
      function (res) {
        _this16.$app.toast('领取成功', 'success');
        _this16.getsignGift();
      }, 'POST', true);
    },

    sendFansChange: function sendFansChange() {var _this17 = this;
      uni.showActionSheet({
        itemList: ['钻石', '积分'],
        success: function success(res) {
          _this17.sendFansBoxUseCurrency = res.tapIndex;
          _this17.sendFansBoxCoinNum = 0;
        } });

    },

    sendFansInput: function sendFansInput(e) {
      this.sendFansboxNum = e.detail.value;
      if (this.sendFansBoxUseCurrency == 0) {
        // 钻石 // 1 = 3000
        this.sendFansBoxCoinNum = this.sendFansboxNum * 3000;
      } else if (this.sendFansBoxUseCurrency == 1) {
        // 积分 // 1 = 300
        this.sendFansBoxCoinNum = this.sendFansboxNum * 300;
      } else if (this.sendFansBoxUseCurrency == 2) {
        // 鲜花 // 1 = 1
        this.sendFansBoxCoinNum = this.sendFansboxNum * 1;
      }
    },
    sendFansBoxBtn: function sendFansBoxBtn() {var _this18 = this;
      if (this.sendFansBoxCoinNum < 300000) {
        this.$app.toast('最少送出30万金豆');
        return;
      }

      if (this.sendFansboxPeople < 10 || this.sendFansboxPeople > 100) {
        this.$app.toast('人数需要10-100人');
        return;
      }

      this.$app.request('fans/sendbox', {
        type: this.sendFansBoxUseCurrency,
        consume: this.sendFansboxNum,
        people: this.sendFansboxPeople },
      function (res) {
        _this18.modal = '';
        _this18.$app.toast('宝箱已发出', 'success');
      }, 'POST', true);
    },
    fansBoxOpen: function fansBoxOpen() {var _this19 = this;
      // if (this.isJoinFanclub) {
      this.modal = 'fansBox';
      this.$app.request('fans/mybox', {}, function (res) {
        _this19.sendFansBoxList = res.data.list;
        _this19.sendFansNoSettle = res.data.can_settle;
        _this19.sendFansNoticeId = res.data.noticeId;
      });
      // } else {
      // 	this.$app.modal(`请先加入一个粉丝团`, () => {
      // 		this.goPageHasStar('/pages/fans/fans_list')
      // 	}, '跳转')
      // }

    },
    goFansBox: function goFansBox(id) {
      this.$app.goPage("/pages/lottery/box_open?id=".concat(id));
    },
    /**偷金豆*/
    steal: function steal(starid, index, _steal) {var _this20 = this;
      if (_steal > 0) return;
      this.$app.request(this.$app.API.STAR_STEAL, {
        starid: starid,
        index: index },
      function (res) {
        _this20.starRankList[index].steal = 60;
        _this20.$app.toast("\u5077\u5230\u4E86".concat(res.data.count, "\u91D1\u8C46"));

        _this20.getStarRank();
        _this20.$app.request(_this20.$app.API.USER_CURRENCY, {}, function (res) {
          _this20.$app.setData('userCurrency', res.data);
        });
      }, 'POST', true);
    },
    getInvitAward: function getInvitAward(uid, status, index) {var _this21 = this;
      if (status != 1) return;
      this.$app.request(this.$app.API.USER_INVITAWARD, {
        ral_user_id: uid },
      function (res) {
        _this21.fakeinvitList[index].status = 2;
        _this21.$app.toast('领取成功');
        _this21.$app.request(_this21.$app.API.USER_CURRENCY, {}, function (res) {
          _this21.$app.setData('userCurrency', res.data);
        });
      }, 'POST', true);
    },
    goOther: function goOther(item) {
      this.modal = '';
      this.$app.goPage('/pages/subPages/pet/other/other?user_id=' + item.uid + '&off=' + item.off);
    },
    // 拉票
    getFakeInviteList: function getFakeInviteList() {var _this22 = this;
      this.$app.request(this.$app.API.USER_INVITLIST, {
        page: this.invitFakePage },
      function (res) {
        _this22.invitAward = res.data.award;
        _this22.hasInvitcount = res.data.hasInvitcount;
        // 已领取人次
        _this22.hasEarnCount = res.data.list.hasEarnCount;

        if (_this22.invitFakePage == 1) {
          _this22.fakeinvitList = res.data.list.list;
        } else {
          _this22.fakeinvitList = _this22.fakeinvitList.concat(res.data.list.list);
        }

        _this22.$app.closeLoading(_this22);
      });
    },
    setSendCount: function setSendCount(e) {
      this.sendCount = e.detail.value;
    },
    /**
        * 贡献人气
        */
    sendHot: function sendHot(count) {var _this23 = this;
      if (count) {
        if (count == '全送') {
          if (this.current == 0) {
            // 送金豆
            this.sendCount = this.userCurrency.coin;
          } else if (this.current == 1) {
            // 送鲜花
            this.sendCount = this.userCurrency.flower;
          } else if (this.current == 2) {
            // 送旧豆
            this.sendCount = this.userCurrency.old_coin;
          }
          return;
        } else {
          this.sendCount = count;
        }
      }
      if (!parseInt(this.sendCount)) {
        this.$app.toast('数额不正确');
        return;
      }

      this.$app.request(this.$app.API.STAR_SENDHOT, {
        starid: this.star.id,
        hot: parseInt(this.sendCount),
        type: this.current + 1,
        danmaku: Number(!this.danmakuClosed) },
      function (res) {
        _this23.modal = '';
        _this23.getStarInfo();
        _this23.userRankPage = 1;
        _this23.getUserRank();
        _this23.$app.request(_this23.$app.API.USER_CURRENCY, {}, function (res) {
          _this23.$app.setData('userCurrency', res.data);
          _this23.userCurrency = res.data;
        });
        if (_this23.star.id == _this23.$app.getData('userStar').id) {
          // 弹窗
          _this23.modal = 'sendOver';
          return;
        }
        _this23.$app.toast('打榜成功', 'success');

      }, 'POST', true);
    },
    /**
        * 发送留言
        */
    sendMsg: function sendMsg() {
      /*失去焦点时 IOS键盘收回，但留下一片空白的问题*/






      var chartMsg = this.chartMsg.trim();
      if (chartMsg.length > 32) {
        this.$app.toast('发言内容过长');
        return;
      }
      this.chartMsg = '';
      if (!chartMsg) return;

      this.modal = '';
      this.$app.invokeSocket();
      this.$app.request(this.$app.API.STAR_SENDMSG, {
        starid: this.star.id,
        content: chartMsg });

    },
    /**
        * 加入明星圈子或弹出打榜
        */
    sendOrFollow: function sendOrFollow(e) {var _this24 = this;
      // if (!this.$app.getData('userInfo').nickname) {
      // 	this.$app.toast('请先去个人中心点击头像进行授权')
      // 	return
      // }
      if (this.$app.getData('userStar')['id']) {
        // 已加入圈子
        if (this.$app.getData('userStar')['id'] == this.star.id ||
        this.star.isBirth) {
          // 打榜
          this.sendCount = '';
          this.modal = 'send';
          // 保存formId
          var formId = e && e.detail && e.detail.formId || null;

          if (formId && formId != 'the formId is a mock one') {
            this.$app.request(this.$app.API.EXT_SAVEFORMID, {
              formId: formId });

          }

          if (this.star.isBirth) {
            this.current = 1;
          }

          return;
        } else {
          if (this.$app.getData('userInfo').type != 1) {
            // 非管理员不能跨圈打榜
            this.$app.toast("\u4E0D\u80FD\u4E3A\u5176\u4ED6\u7231\u8C46\u6253\u699C");
            return;
          }
        }

      }
      // 加入圈子
      this.$app.modal("\u6BCF\u4E2A\u4EBA\u53EA\u80FD\u52A0\u5165\u4E00\u4E2A\u5708\u5B50\n\u662F\u5426\u52A0\u5165".concat(this.star.name, "\u7684\u5708\u5B50\uFF1F"), function () {
        _this24.$app.request(_this24.$app.API.STAR_FOLLOW, {
          starid: _this24.star.id,
          rer_user_id: _this24.$app.getData('referrer') // 推荐人
        }, function (res) {
          if (_this24.$app.getData('userInfo').type == 1) {
            // 管理员
            _this24.$app.token = '';
            _this24.$app.request(_this24.$app.API.USER_INFO, {}, function (res) {
              _this24.$app.setData('userInfo', res.data, true);
              _this24.$app.request(_this24.$app.API.USER_CURRENCY, {}, function (res) {
                _this24.$app.setData('userCurrency', res.data);
              });
              _this24.$app.request(_this24.$app.API.USER_STAR, {}, function (res) {
                _this24.$app.setData('userStar', res.data, true);
                _this24.$app.goPage('/pages/group/group?tips=1');
              });
            });
          } else {
            _this24.$app.request(_this24.$app.API.USER_STAR, {}, function (res) {
              _this24.$app.setData('userStar', res.data);
              _this24.$app.setData('noob', true);
              _this24.chartMsg = "\u5927\u5BB6\u597D\uFF0C\u6211\u662F".concat(_this24.$app.getData('userInfo').nickname, "\uFF0C\u8BF7\u591A\u5173\u7167~");
              _this24.sendMsg();
              _this24.$app.toast('加入成功');
              setTimeout(function () {
                _this24.$app.goPage('/pages/group/group?tips=1');
              }, 200);
            });
          }

        }, 'POST', true);
      });

    },
    getStarInfo: function getStarInfo() {var _this25 = this;
      this.$app.request(this.$app.API.STAR_INFO, {
        starid: this.star.id },
      function (res) {
        var star = res.data;

        _this25.star = {
          id: star.id,
          avatar: star.head_img_s ? star.head_img_s : star.head_img_l,
          name: star.name,
          weekHot: _this25.$app.formatNumber(star.star_rank.week_hot),
          weekRank: star.star_rank.week_hot_rank,
          share_img: star.share_img, // 海报图片
          qrcode: star.qrcode,
          isBirth: star.isBirth || false };

      });
    },
    getArticle: function getArticle() {var _this26 = this;
      this.$app.request(this.$app.API.ARTICLE, {}, function (res) {
        _this26.article.name = res.data.name;
        _this26.article.id = res.data.id;
        _this26.$app.closeLoading(_this26);
      });
    },
    getStarRank: function getStarRank() {var _this27 = this;
      // 偷花
      this.$app.request(this.$app.API.STAR_RANK, {
        type: 1 },
      function (res) {
        _this27.steal_num = res.data.steal_num;
        _this27.sprite_level = res.data.sprite_level;
        _this27.steal_num_max = res.data.steal_num_max;
        _this27.steal_count = res.data.steal_count;
        _this27.steal_times = res.data.steal_times;
        _this27.steal_times_max = res.data.steal_times_max;
        // 清除steal倒计时定时器
        if (!_this27.$app.timeId) _this27.$app.timeId = [];var _iteratorNormalCompletion = true;var _didIteratorError = false;var _iteratorError = undefined;try {
          for (var _iterator = _this27.$app.timeId[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {var v = _step.value;
            clearInterval(v);
          }} catch (err) {_didIteratorError = true;_iteratorError = err;} finally {try {if (!_iteratorNormalCompletion && _iterator.return != null) {_iterator.return();}} finally {if (_didIteratorError) {throw _iteratorError;}}}
        _this27.$app.timeId = [];
        var resList = [];
        var index = 0;
        res.data.list.forEach(function (e, i) {
          if (i < 6 && e.star.id != _this27.$app.getData('userStar')['id']) {
            resList.push({
              starid: e.star.id,
              name: e.star.name,
              steal_count: res.data.steal_count,
              avatar: e.star.head_img_s ? e.star.head_img_s : e.star.head_img_l,
              hot: _this27.$app.formatNumberRgx(e['week_hot']),
              steal: res.data.steal[index] });

            if (res.data.steal[index] > 0) {
              _this27.startStealTimeInterval(index);
            }
            index++;
          }
        });

        _this27.starRankList = resList;
      });
    },
    getUserRank: function getUserRank() {var _this28 = this;var field = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'thisweek_count';
      if (this.userRankPage > 10) return;
      this.$app.request(this.$app.API.USER_RANK, {
        starid: this.star.id,
        page: this.userRankPage || 1,
        field: field },
      function (res) {
        _this28.myRank = res.data.my;
        if (_this28.userRankPage == 1) {
          _this28.userRankList[field] = res.data.list;
        } else {
          _this28.userRankList[field] = _this28.userRankList[field].concat(res.data.list);
        }


      });
    },
    // 打榜弹幕
    sendHotDanmaku: function sendHotDanmaku(data) {var _this29 = this;
      if (!this.danmakuClosed) {
        this.sendDanmaku[this.sendDanmakuIndex].push(data);
        setTimeout(function () {
          // 12s后销毁这条弹幕
          _this29.sendDanmaku[_this29.sendDanmakuIndex].shift();
        }, 12000);
        if (++this.sendDanmakuIndex > 2) this.sendDanmakuIndex = 0;
      }
    },

    getChartList: function getChartList() {var _this30 = this;
      this.$app.request(this.$app.API.STAR_CHART, {
        starid: this.star.id },
      function (res) {
        _this30.chartList = res.data;
        _this30.$nextTick(function () {
          this.chartIndex = this.chartList.length - 1;
        });

        _this30.$app.closeLoading(_this30);
      });
    },
    /**
        * 加入聊天室
        */
    joinGroup: function joinGroup() {var _this31 = this;
      var clientId = this.$app.getData('clientId');
      if (!clientId) {
        this.$app.invokeSocket();
        setTimeout(function () {
          _this31.joinGroup();
        }, 1500);
      } else {
        this.$app.request(this.$app.API.STAR_JOINCHART, {
          star_id: this.star.id,
          client_id: clientId },
        function (res) {
          _this31.$app.closeLoading(_this31);
        });
      }
    },
    leaveGroup: function leaveGroup() {
      var clientId = this.$app.getData('clientId');
      if (clientId) {
        this.$app.request(this.$app.API.STAR_LEAVECHART, {
          star_id: this.star.id,
          client_id: clientId },
        function (res) {});
      }
    } } };exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),

/***/ 413:
/*!*********************************************************************************************************************!*\
  !*** E:/wx/idolzone-weixin/components/guildComponent.vue?vue&type=style&index=0&id=82d416a6&lang=scss&scoped=true& ***!
  \*********************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_1_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_8_oneOf_1_2_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_4_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_guildComponent_vue_vue_type_style_index_0_id_82d416a6_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-1!./node_modules/css-loader??ref--8-oneOf-1-2!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--8-oneOf-1-3!./node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./guildComponent.vue?vue&type=style&index=0&id=82d416a6&lang=scss&scoped=true& */ 414);
/* harmony import */ var _D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_1_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_8_oneOf_1_2_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_4_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_guildComponent_vue_vue_type_style_index_0_id_82d416a6_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_1_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_8_oneOf_1_2_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_4_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_guildComponent_vue_vue_type_style_index_0_id_82d416a6_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_1_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_8_oneOf_1_2_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_4_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_guildComponent_vue_vue_type_style_index_0_id_82d416a6_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_1_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_8_oneOf_1_2_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_4_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_guildComponent_vue_vue_type_style_index_0_id_82d416a6_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_1_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_8_oneOf_1_2_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_4_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_D_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_guildComponent_vue_vue_type_style_index_0_id_82d416a6_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 414:
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-1!./node_modules/css-loader??ref--8-oneOf-1-2!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--8-oneOf-1-3!./node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/wx/idolzone-weixin/components/guildComponent.vue?vue&type=style&index=0&id=82d416a6&lang=scss&scoped=true& ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ })

}]);
//# sourceMappingURL=../../.sourcemap/mp-weixin/components/guildComponent.js.map
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/guildComponent-create-component',
    {
        'components/guildComponent-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('1')['createComponent'](__webpack_require__(408))
        })
    },
    [['components/guildComponent-create-component']]
]);                
