(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/square/square"],{"03e7":function(t,a,e){},"21ec":function(t,a,e){"use strict";e.r(a);var r=e("f796"),i=e("3507");for(var n in i)"default"!==n&&function(t){e.d(a,t,function(){return i[t]})}(n);e("c98c");var o=e("2877"),s=Object(o["a"])(i["default"],r["a"],r["b"],!1,null,"18a2ec28",null);a["default"]=s.exports},3507:function(t,a,e){"use strict";e.r(a);var r=e("c487"),i=e.n(r);for(var n in r)"default"!==n&&function(t){e.d(a,t,function(){return r[t]})}(n);a["default"]=i.a},c487:function(t,a,e){"use strict";(function(t){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var e={data:function(){return{tabActive:0,page:1,artList:[],starInfo:{},isSub:0}},onLoad:function(t){this.video_id=""},onShow:function(){var a=this;this.$app.getData("userStar").id?!this.loadSuccess&&this.loadData():t.showModal({content:"请先加入一个圈子",confirmText:"去加圈子",showCancel:!1,success:function(t){t.confirm&&a.$app.goPage("/pages/group/group")}})},onShareAppMessage:function(){return this.$app.commonShareAppMessage()},onPullDownRefresh:function(){this.page=1,this.loadData()},onReachBottom:function(){this.page++,this.loadData()},methods:{deleteArticle:function(t){var a=this;this.$app.modal("是否删除该文章",function(){a.$app.request("article/delete",{id:t},function(e){for(var r in a.$app.toast("删除成功"),a.artList)a.artList[r].id==t&&a.artList.splice(r,1)},"POST",!0)})},videoPlay:function(a){a.currentTarget.id!=this.video_id&&(t.createVideoContext(this.video_id).pause(),this.video_id=a.currentTarget.id)},videoError:function(t,a){var e=this;this.$app.request("article/refrashVideo",{id:t},function(t){e.artList[a].video=t.data})},subscribe:function(){var t=this;this.$app.request("article/subscribe",{},function(a){t.isSub=a.data.sub,1==a.data.sub&&t.$app.toast("订阅成功","success")},"POST",!0)},preImgs:function(a,e){var r=[].concat(a);for(var i in r)r[i]=r[i].replace("/small/","/large/");t.previewImage({urls:r,current:e})},loadData:function(){var a=this;this.$app.request("page/square",{star_id:this.$app.getData("userStar").id,page:this.page,size:3},function(e){a.loadSuccess=!0,t.stopPullDownRefresh();var r=e.data.article;1==a.page?a.artList=r:a.artList=a.artList.concat(r),a.isSub=e.data.subscribe,e.data.starInfo.star_rank.week_hot=(e.data.starInfo.star_rank.week_hot/1e4).toFixed(1),a.starInfo=e.data.starInfo,t.setNavigationBarColor({backgroundColor:a.starInfo.square_bg_color||"#856B5C",frontColor:"#ffffff"})})}}};a.default=e}).call(this,e("543d")["default"])},c98c:function(t,a,e){"use strict";var r=e("03e7"),i=e.n(r);i.a},f796:function(t,a,e){"use strict";var r=function(){var t=this,a=t.$createElement,e=(t._self._c,t.$app.getData("userStar")),r=t.__map(t.artList,function(a,e){var r=t.__map(a.imgs,function(a,e){var r=a.indexOf(".gif");return{$orig:t.__get_orig(a),g1:r}}),i=a.video.indexOf("http");return{$orig:t.__get_orig(a),l0:r,g2:i}});t._isMounted||(t.e0=function(a){return t.$app.goPage("/pages/group/group")}),t.$mp.data=Object.assign({},{$root:{g0:e,l1:r}})},i=[];e.d(a,"a",function(){return r}),e.d(a,"b",function(){return i})}},[["7fef","common/runtime","common/vendor"]]]);