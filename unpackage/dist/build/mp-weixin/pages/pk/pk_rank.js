(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/pk/pk_rank"],{2233:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{starid:this.$app.getData("userStar").id,pkTimeList:[],curPkTime:{},myJoinType:"",current:0,rankList:[],tabList:[{name:"钻石争夺战"},{name:"鲜花争夺战"}],pkStatus:0,timeSpace:{},list:[],pkTime:"",mymid:this.$app.getData("userStar").id,showTime:"",yestoday:0,joinNum:0,timeLeft:"",userInfo:this.$app.getData("userInfo"),captain:this.$app.getData("userStar").captain}},onShareAppMessage:function(t){var e=t.target&&t.target.dataset.share;return this.$app.commonShareAppMessage(e)},onLoad:function(t){console.log(t),this.pkTime=t.pkTime||"",this.showTime=t.time||"",this.yestoday=t.yestoday||0,this.page=1,t.current&&0!=t.current?this.current=t.current:this.loadData()},methods:{out:function(t,e){var a=this;this.$app.modal("将".concat(t.name,"移出本次团战?"),function(){a.$app.request("rank/pk_out",{mid:a.starid,uid:t.uid},function(t){a.$app.toast(t.msg),a.list.splice(e,1)})})},lower:function(){console.log(11),this.page++,this.page>10||this.loadData()},goPage:function(t){2==this.pkStatus&&(t.currentTarget.dataset.mid!=this.$app.getData("userStar").id&&1!=this.sAdm||this.$app.goPage(t.currentTarget.dataset.page))},swiperChange:function(t){this.current=t.detail.current,this.page=1,this.rankList=[],this.loadData()},loadData:function(){var t=this;this.$app.request("rank/pk",{page:this.page,type:this.current||0,mid:this.$app.getData("userStar")["id"],pkTime:this.pkTime||"",yestoday:this.yestoday||0},function(e){var a=e.data;t.pkTime&&(a.status=2),1==t.page?1==a.status?t.list=a.userList:2==a.status&&(t.list=a.starList):1==a.status?t.list=t.list.concat(a.userList):2==a.status&&(t.list=t.list.concat(a.starList)),t.pkStatus=a.status,t.timeSpace=a.timeSpace||null,t.isJoin=a.isJoin||0,t.joinNum=a.joinNum||0,t.adm=a.isAdm||0,t.sAdm=a.sAdm||0,t.uid=a.uid;var i=t.$app.timeGethms(a.timeLeft);t.timeLeft=i.hour+"小时"+i.min+"分"+i.sec+"秒",clearInterval(t.timeId),t.timeId=setInterval(function(){var e=t.$app.timeGethms(--a.timeLeft);t.timeLeft=e.hour+"小时"+e.min+"分"+e.sec+"秒",a.timeLeft<=0&&clearInterval(t.timeId)},1e3)})}}};e.default=i},3167:function(t,e,a){"use strict";var i=a("8388"),s=a.n(i);s.a},"336b":function(t,e,a){"use strict";a.r(e);var i=a("2233"),s=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e["default"]=s.a},"7e40":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement;t._self._c;t._isMounted||(t.e0=function(e){t.current=0},t.e1=function(e){t.current=1})},s=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return s})},8388:function(t,e,a){},cbe9:function(t,e,a){"use strict";a.r(e);var i=a("7e40"),s=a("336b");for(var n in s)"default"!==n&&function(t){a.d(e,t,function(){return s[t]})}(n);a("3167");var r=a("2877"),u=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,"50d07a72",null);e["default"]=u.exports}},[["0a43","common/runtime","common/vendor"]]]);