(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/farm/farm"],{"852d":function(e,t,n){"use strict";n.r(t);var i=n("e6ec"),a=n.n(i);for(var l in i)"default"!==l&&function(e){n.d(t,e,function(){return i[e]})}(l);t["default"]=a.a},"8fdb":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=(e._self._c,e.$app.getData("userInfo")),i=e.$app.getData("userInfo"),a=(e.offlinePercent/.2).toFixed(2);e._isMounted||(e.e0=function(t){15==e.farm.tree_1_level?e.getSkill(8):e.getSkill(6)},e.e1=function(t){15==e.farm.tree_2_level?e.getSkill(9):e.getSkill(7)},e.e2=function(t){15==e.farm.tree_1_level?e.getSkill(8):e.getSkill(6)},e.e3=function(t){15==e.farm.tree_2_level?e.getSkill(9):e.getSkill(7)},e.e4=function(t){e.skillShow=!e.skillShow},e.e5=function(t){e.skillShow=!e.skillShow},e.e6=function(t){e.skillShow=!e.skillShow},e.e7=function(t){e.skillShow=!e.skillShow},e.e8=function(t){e.getSkill(1),e.modal="skill"},e.e9=function(t){e.getSkill(2),e.modal="skill"},e.e10=function(t){e.getSkill(3),e.modal="skill"},e.e11=function(t){return e.$app.goPage("/pages/notice/notice?id=2")},e.e12=function(t){e.modal=""},e.e13=function(t){e.skill2Current=!e.skill2Current},e.e14=function(t){e.modal=""},e.e15=function(t){e.modal=""},e.e16=function(t){e.modal=""}),e.$mp.data=Object.assign({},{$root:{g0:n,g1:i,g2:a}})},a=[];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a})},a29a:function(e,t,n){"use strict";var i=n("ecbd"),a=n.n(i);a.a},c2e0:function(e,t,n){"use strict";n.r(t);var i=n("8fdb"),a=n("852d");for(var l in a)"default"!==l&&function(e){n.d(t,e,function(){return a[e]})}(l);n("a29a");var s=n("2877"),o=Object(s["a"])(a["default"],i["a"],i["b"],!1,null,"e8a347e0",null);t["default"]=o.exports},e6ec:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){return n.e("components/modalComponent").then(n.bind(null,"5390"))},a=function(){return n.e("components/btnComponent").then(n.bind(null,"b111"))},l=function(){return n.e("components/listItemComponent").then(n.bind(null,"8d4d"))},s={components:{modalComponent:i,btnComponent:a,listItemComponent:l},data:function(){return{userCurrency:{},modal:"",farm:{},skillInfo:{},skillType:"",coinAddNum:0,coinAddShow:!1,settleTime:100,skillShow:!1,skillOneRemainTime:"",skillTwoRemainCount:0,baseCoinCount:0,rateList:[],skill2Current:!1,skillTwoRemainOffset:0,skillThreePercent:"",helperList:[],offlinePercent:""}},onShareAppMessage:function(e){var t=e.target&&e.target.dataset.share;return this.$app.commonShareAppMessage(t)},onLoad:function(){this.initInterval()},onShow:function(){this.getSpriteInfo(),this.userCurrency=this.$app.getData("userCurrency")},methods:{increaseRate:function(e){var t=this;this.$app.modal("爆豆".concat(e.rate,"倍目前概率").concat(e.chance,"%\n是否使用").concat(e.stone,"钻石提高1%的概率"),function(){t.$app.request("sprite/skill2rateIncrease",{rate:e.rate,stone:e.stone},function(e){t.$app.toast("提升成功"),t.rateList=e.data},"POST",!0)})},helpstart:function(){var e=this;this.$app.request("sprite/helpstart",{},function(t){e.$app.toast("加速成功，金豆+"+t.data),e.modal=""},"POST",!0)},speedModal:function(){var e=this;this.modal="speed",this.$app.request("sprite/helplist",{},function(t){e.helperList=t.data})},skillSettle:function(){var e=function(){var e=this;this.$app.request("sprite/skill_settle",{type:this.skillType},function(t){e.$app.modal(t.data.msg),e.getSkill(e.skillType),e.$app.request(e.$app.API.USER_CURRENCY,{},function(t){e.$app.setData("userCurrency",t.data),e.userCurrency=e.$app.getData("userCurrency")})},"POST",!0)}.bind(this);2==this.skillType?this.skillTwoRemainCount>0?this.$app.modal("金豆需要全投给爱豆",function(){return e()}):this.skillTwoRemainOffset>0?this.$app.modal("金豆需要全投给爱豆\n并且现在需要使用1钻石",function(){return e()}):this.$app.toast("今日使用次数已用完，请明日再来"):e()},getSkill:function(e){var t=this;this.skillType=e,this.$app.request(this.$app.API.SPRITE_SKILL,{type:e},function(n){t.skillInfo=n.data,t.modal="skill",1==e?t.initSkillOne(n.data.remainTime):2==e?(t.skillTwoRemainCount=n.data.remainTimes,t.baseCoinCount=n.data.baseCount,t.rateList=n.data.rate,t.skillTwoRemainOffset=n.data.remainOffset):3==e&&(t.skillThreePercent=n.data.myskill.percent)})},initSkillOne:function(e){var t=this;if(clearInterval(this.skillOneTimeId),!0===e)this.skillOneRemainTime="领取钻石";else{var n=this.$app.timeGethms(e);this.skillOneRemainTime="".concat(n.hour,":").concat(n.min,":").concat(n.sec),this.skillOneTimeId=setInterval(function(){var n=t.$app.timeGethms(--e);t.skillOneRemainTime="".concat(n.hour,":").concat(n.min,":").concat(n.sec),e<=0&&(clearInterval(t.skillOneTimeId),t.skillOneRemainTime="领取钻石")},1e3)}},upgrade:function(){var e=this;this.$app.request(this.$app.API.SPRITE_UPGRAGE,{type:this.skillType},function(t){e.$app.request(e.$app.API.USER_CURRENCY,{},function(t){e.$app.setData("userCurrency",t.data),e.userCurrency=e.$app.getData("userCurrency")}),e.getSpriteInfo(),0!=e.skillType&&e.getSkill(e.skillType),e.$app.toast("升级成功","success")},"POST",!0)},initInterval:function(){var e=this,t=function(){var e=this;this.$app.request("sprite/settle",{},function(t){t.data.earn&&(e.coinAddNum=t.data.earn,e.offlinePercent=t.data.percent,e.coinAddShow=!0,setTimeout(function(){e.coinAddShow=!1},500),e.$app.request(e.$app.API.USER_CURRENCY,{},function(t){e.$app.setData("userCurrency",t.data),e.userCurrency=e.$app.getData("userCurrency")}),1==t.data.mode&&(e.modal="offline"))})}.bind(this);t(),clearInterval(this.timeId),this.timeId=setInterval(function(){--e.settleTime<0&&(t(),e.settleTime=100)},1e3)},getSpriteInfo:function(){var e=this;this.$app.request(this.$app.API.SPRITE_INFO,{user_id:this.$app.getData("userInfo").id},function(t){e.farm=t.data.spriteInfo,e.initSkillOne(t.data.skillOneRemainTime),e.skillTwoRemainCount=t.data.skillTwoRemainTimes,e.skillThreePercent=t.data.skillThreePercent})}}};t.default=s},ecbd:function(e,t,n){}},[["3970","common/runtime","common/vendor"]]]);